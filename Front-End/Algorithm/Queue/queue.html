<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    


    <script>

        function Queue(){
            this.items = [];

            // enqueue(element)
            Queue.prototype.enqueue = function(element){
                this.items.unshift(element);
            }
            // dequeue()
            Queue.prototype.dequeue = function(){
                return this.items.pop();
            }
            // front():返回队头元素
            Queue.prototype.front = function(){
                return this.items[this.items.length - 1];
            }
            // isEmpty()
            Queue.prototype.isEmpty = function(){
                return this.items.length === 0;
            }
            // size()
            Queue.prototype.size = function(){
                return this.items.length;
            }
            // toString()
            Queue.prototype.toString = function(){
                var result = '';
                for(var i = 0; i < this.items.length; i ++){
                    result += this.items[i];
                }
                return result;
            }
        }
        // 队尾 -- 队头
        var queue = new Queue();
        queue.enqueue('abc');
        queue.enqueue('123')
        console.log(queue.items);
        console.log(queue.size());
        
        console.log(queue.toString());
        console.log(queue.front());
        queue.dequeue();
        console.log(queue.items);

        // 击鼓传花
        function passGame(arr,n){
            // 1、将数组的元素加入到队列中
            var queue1 = new Queue();
            for(var i = 0; i < arr.length; i ++){
                queue1.enqueue(arr[i]);
            }
            console.log(queue1.items);

            // 2、从队头开始数，每数一个就将原队头加入到队尾中，数到了就移除队列
            //    直到size === 1
            while(queue1.size() > 1){
                // n - 1个数移到队尾
                for(var i = 0; i < n - 1; i ++){
                    queue1.enqueue(queue1.dequeue());
                }
                // 第n个移除
                queue1.dequeue();
            }

            console.log(queue1.items);
            for(var i = 0; i < arr.length; i ++){
                if(arr[i] == queue1.front()){
                    console.log(i);
                    return i;
                }
            }
        }
        passGame(['moon','sun','moonlight','top','god'],3);

    </script>
</body>
</html>